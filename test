# unit tests
cargo nextest run --release
if [ $? -ne 0 ]; then
    echo "Failed to run unit tests"
    exit 1
fi

# integration tests
cargo nextest run --release --workspace -p kaspa-testing-integration --lib
if [ $? -ne 0 ]; then
    echo "Failed to run integration tests"
    exit 1
fi

# wasm build (tests for potential multiple exports of the same symbol)
pushd .
cd wasm
./build-node
popd
